# Trippy network diagnostic tool aliases
# https://trippy.rs/guides/recommendation/
#
# Configuration is managed in ~/.config/trippy/trippy.toml
#
# Usage examples:
#   traceroute example.com              # Basic ICMP trace
#   trip --udp example.com              # UDP Dublin mode (ECMP)
#   trip --tcp example.com              # TCP mode
#   trip --mode markdown example.com    # Generate report

# Wrapper for trip that automatically uses sudo (required for raw socket access)
# Use absolute path to avoid recursion
# Skip sudo if already running as root
function trip
    if test (id -u) -eq 0
        /usr/bin/trip $argv
    else
        sudo /usr/bin/trip $argv
    end
end

# Override standard traceroute commands
function traceroute
    echo "Using trippy..."
    echo
    trip $argv
end

function tracert
    echo "Using trippy..."
    echo
    trip $argv
end
