---
# Libvirt installation state (present or absent)
libvirt_state: present

# Libvirt packages to install
libvirt_packages:
  - qemu-kvm
  - libvirt-daemon-system
  - libvirt-clients
  - bridge-utils
  - cpu-checker
  - acl

# Optional GUI tools (set to true to install)
libvirt_install_gui_tools: false

# Additional GUI packages
libvirt_gui_packages:
  - virt-manager
  - virt-viewer

# Add user to libvirt group (allows managing VMs without sudo)
libvirt_add_user_to_group: true

# Libvirt-related groups to add user to
libvirt_user_groups:
  - libvirt
  - kvm

# Libvirt service name
libvirt_service: libvirtd

# Connection URI (system-wide daemon)
libvirt_connection_uri: "qemu:///system"

# Network configuration
# Define multiple routed networks as a list
# Each network can have its own name, bridge, subnet, and DHCP range
libvirt_routed_networks:
  - name: "routed-network"
    bridge: "virbr1"
    subnet: "172.29.173.0/24"
    gateway: "172.29.173.1"
    dhcp_start: "172.29.173.100"
    dhcp_end: "172.29.173.200"
    autostart: true

# Enable/disable default NAT network
libvirt_default_network_autostart: false

# Storage configuration
libvirt_default_storage_pool: "/var/lib/libvirt/images"

# QEMU configuration for permissions
# User and group for QEMU processes (default: libvirt-qemu on Ubuntu)
libvirt_qemu_user: "libvirt-qemu"
libvirt_qemu_group: "kvm"

# Security driver (apparmor, selinux, or none)
# WARNING: Setting to 'none' reduces security
libvirt_security_driver: "apparmor"

# Dynamic ownership (allows libvirt to automatically manage file ownership)
libvirt_dynamic_ownership: 1

# Configure ACL permissions for storage directories
libvirt_configure_acls: true

# Additional storage paths to configure (beyond default storage pool)
libvirt_additional_storage_paths: []
