# SPDX-FileCopyrightText: {{ user.name }}
# SPDX-License-Identifier: MIT
#
# System Management Justfile
# Managed by Ansible - changes may be overwritten
#
# This justfile provides system administration commands
# Run 'jsys' or 'jsys --list' to see available commands

{% raw %}
# Set shell for all recipes
set shell := ["bash", "-uc"]

# Enable colored output
set dotenv-load := false

# Define helper functions for reuse across recipes
header_msg := '
header() {
    echo ""
    echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
    echo "  $1"
    echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
    echo ""
}
'

success_msg := '
success() {
    echo "✓ $1"
}
'

error_msg := '
error() {
    echo "✗ Error: $1" >&2
}
'
{% endraw %}

# Ansible project directory
ansible_dir := "{{ justfile_ansible_project_dir }}"

# Import modular justfiles
import 'modules/updates.just'
import 'modules/maintenance.just'
import 'modules/generators.just'
import 'modules/info.just'

{% raw %}
# Default recipe - show available commands
default:
    @just --justfile {{ justfile() }} --list --unsorted
{% endraw %}
