[defaults]
inventory = inventory/hosts.yml
roles_path = roles
collections_path = collections
host_key_checking = False
retry_files_enabled = False
display_skipped_hosts = False
vault_password_file = .vault_pass

# Use callback plugins for better output
stdout_callback = default
callback_result_format = yaml
bin_ansible_callbacks = True

# Reduce noise
deprecation_warnings = False
command_warnings = False

# Performance
forks = 10
gathering = smart
fact_caching = jsonfile
fact_caching_connection = /tmp/ansible_facts
fact_caching_timeout = 3600

[privilege_escalation]
become = True
become_method = sudo
become_user = root
become_ask_pass = False

# This assumes NOPASSWD sudo is configured on managed hosts
# For first-time bootstrap on fresh systems, use: just bootstrap-ask <hostname>
# This will configure NOPASSWD sudo, after which become_ask_pass = False works

[ssh_connection]
pipelining = True
control_path = /tmp/ansible-ssh-%%h-%%p-%%r
